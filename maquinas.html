<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/maquinas.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="shortcut icon" href="images/Logo.png" type="image/x-icon">
    <link
    href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    rel="stylesheet"
  />
    <title>Maquinas</title>
</head>
<body>
    <nav class="nav">
        <img src="images/logo.png" alt="TectracFactory" class="logo" />
  
        <div class="nav-links">
          <a href="/">Inicio</a>
          <a href="/maquinas">Historial</a>
        </div>
  
        <div class="icons-access">
          <a href="#"><i class="bx bxs-bell iconos"></i></a>
          <a href="/login"><i class="bx bxs-user iconos"></i></a>
        </div>
      </nav>
    <main class="main">
        <div class="section-maquina">
          <img src="images/maquina.png" alt="maquina" />
          <p>Nuestras Maquinas operacionales</p>

        </div>
      </main>
    <center><h2 style="color: white; font-size: 48px; margin-top: 25px; margin-bottom: 25px;">Historial Registrado</h2></center>
    <div class="maquinas" id="maquinas">
            
  </div>
  <script>
    fetch('/Datosmaquinas')
    .then(response => response.json())
            .then(data => {
                const container = document.getElementById('maquinas');
                data.forEach(machine => {
                    const machineDiv = document.createElement('div');
                    machineDiv.innerHTML = `
                      <div class="bloque" style="padding: 0;">
                        <center><h2 style="background-color: #FAFAD5;">Maquina ${machine.ID}</h2></center>
                        <p>Temperatura: <span id="temp-${machine._id}">${machine.Temperatura}</span>Â°C</p>
                        <p>Humedad: <span id="hum-${machine._id}">${machine.Humedad}</span>%</p>
                        <p>Presion: <span id="pre-${machine._id}">${machine.Presion}</span>&nbsp;mmHg</p>
                      </div>
                    `;
                    container.appendChild(machineDiv);
                });
            })
            .catch(error => {
                console.error(error);
                document.getElementById('maquinas-container').textContent = 'Error al obtener datos';
            });
    </script>
  <footer class="footer">
    <p>&copy; 2024 TectracFactory. Todos los derechos reservados.</p>
  </footer>
</body>
</html>